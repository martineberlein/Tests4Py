The bug in fastapi 4 does occur whenever the openapi gets a request to retrieve a json and a handler requires 
parameters. The parameters will be added twice to the response because there is no duplication removal.